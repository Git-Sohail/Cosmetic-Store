{% extends "base/base.html" %}
{% load static %}

{% block title %}Login - Cosmetics Store{% endblock %}

{% block meta_description %}Login to your Cosmetics Store account to manage your orders and profile.{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
{% endblock %}

{% block content %}
<div class="min-h-[calc(100vh-4rem)] flex bg-gradient-to-br from-brand-50 to-brand-100">
    <!-- Left side - Login Form -->
    <div class="flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12">
        <div class="max-w-md w-full bg-white shadow-xl rounded-2xl p-8 animate-fade-in">
            <!-- Brand -->
            <div class="text-center">
                <h1 class="text-4xl font-serif font-extrabold mb-2 text-gradient">Welcome Back</h1>
                <p class="text-lg text-gray-600">Sign in to continue shopping</p>
            </div>

            <!-- Social Proof -->
            <div class="mt-8">
                <div class="flex justify-center space-x-8 mb-8">
                    <div class="text-center card-hover">
                        <div class="text-3xl font-bold text-brand-500">1000+</div>
                        <div class="text-sm text-gray-500 mt-1">Happy Customers</div>
                    </div>
                    <div class="text-center card-hover">
                        <div class="text-3xl font-bold text-brand-500">500+</div>
                        <div class="text-sm text-gray-500 mt-1">Products</div>
                    </div>
                    <div class="text-center card-hover">
                        <div class="text-3xl font-bold text-brand-500">24/7</div>
                        <div class="text-sm text-gray-500 mt-1">Support</div>
                    </div>
                </div>
            </div>

            <!-- Form -->
            <form class="mt-8 space-y-6" method="post" novalidate>
                {% csrf_token %}

                {% if form.errors %}
                <div class="rounded-md bg-red-50 p-4 mb-4 border border-red-200 animate-fade-in">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i class="fas fa-exclamation-circle text-red-400"></i>
                        </div>
                        <div class="ml-3">
                            <h3 class="text-sm font-medium text-red-800">
                                There was an error with your login
                            </h3>
                            <div class="mt-2 text-sm text-red-700">
                                <ul class="list-disc pl-5 space-y-1">
                                    {% for field, errors in form.errors.items %}
                                        {% for error in errors %}
                                            <li>{{ error }}</li>
                                        {% endfor %}
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                {% endif %}

                <div class="space-y-5">
                    <div>
                        <label for="username" class="block text-sm font-medium text-gray-700 mb-1">Username</label>
                        <div class="relative rounded-md shadow-sm">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-user text-brand-500"></i>
                            </div>
                            <input id="username" name="username" type="text" required 
                                class="appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg 
                                       placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-500 
                                       focus:border-brand-500 transition duration-150 ease-in-out sm:text-sm" 
                                placeholder="Enter your username">
                        </div>
                    </div>

                    <div>
                        <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                        <div class="relative rounded-md shadow-sm">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-lock text-brand-500"></i>
                            </div>
                            <input id="password" name="password" type="password" required 
                                class="appearance-none block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg 
                                       placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-500 
                                       focus:border-brand-500 transition duration-150 ease-in-out sm:text-sm" 
                                placeholder="Enter your password">
                        </div>
                    </div>
                </div>

                <div class="flex items-center justify-between mt-6">
                    <div class="flex items-center">
                        <input id="remember_me" name="remember_me" type="checkbox" 
                            class="h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300 rounded 
                                   transition duration-150 ease-in-out">
                        <label for="remember_me" class="ml-2 block text-sm text-gray-700">
                            Remember me
                        </label>
                    </div>

                    <div class="text-sm">
                        <a href="{% url 'users:password_reset' %}" 
                            class="font-medium text-brand-600 hover:text-brand-500 transition duration-150 ease-in-out">
                            Forgot password?
                        </a>
                    </div>
                </div>

                <div class="mt-6">
                    <button type="submit" 
                        class="group relative w-full flex justify-center py-3 px-4 border border-transparent 
                               text-sm font-medium rounded-lg text-white btn-gradient
                               focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 
                               transition-all duration-200 shadow-lg hover:shadow-xl">
                        <span class="absolute left-0 inset-y-0 flex items-center pl-3">
                            <i class="fas fa-sign-in-alt text-brand-300 group-hover:text-brand-200"></i>
                        </span>
                        Sign in
                    </button>
                </div>

                <div class="text-center mt-6">
                    <p class="text-sm text-gray-600">
                        Don't have an account?
                        <a href="{% url 'users:signup' %}" 
                            class="font-medium text-brand-600 hover:text-brand-500 transition duration-150 ease-in-out ml-1">
                            Create one now
                        </a>
                    </p>
                </div>
            </form>
        </div>
    </div>

    <!-- Right side - Decorative Image -->
    <div class="hidden lg:block relative flex-1">
        <div class="absolute inset-0 bg-cover bg-center" style="background-image: linear-gradient(to bottom right, rgba(255, 51, 102, 0.9), rgba(255, 159, 179, 0.9));">
            <div class="absolute inset-0 flex items-center justify-center">
                <div class="text-center text-white p-8 max-w-lg animate-slide-up">
                    <h2 class="text-5xl font-serif font-bold mb-6">Discover Beauty</h2>
                    <p class="text-xl leading-relaxed">Your one-stop destination for premium cosmetics and beauty products</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .form-shine {
        position: relative;
        overflow: hidden;
    }
    
    .form-shine::after {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
            to bottom right,
            rgba(255, 255, 255, 0) 0%,
            rgba(255, 255, 255, 0.1) 50%,
            rgba(255, 255, 255, 0) 100%
        );
        transform: rotate(45deg);
        animation: shine 3s infinite;
    }
    
    @keyframes shine {
        0% {
            transform: translateX(-100%) rotate(45deg);
        }
        100% {
            transform: translateX(100%) rotate(45deg);
        }
    }

    /* Add smooth scroll behavior */
    html {
        scroll-behavior: smooth;
    }

    /* Add a subtle animation to form inputs */
    input {
        transform: translateY(0);
        transition: all 0.2s ease;
    }

    input:focus {
        transform: translateY(-2px);
    }

    /* Add hover effect to social proof numbers */
    .text-3xl {
        transition: transform 0.2s ease;
    }

    .text-3xl:hover {
        transform: scale(1.1);
    }
</style>
{% endblock %} 